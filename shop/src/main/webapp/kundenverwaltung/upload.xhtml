<?xml version="1.0"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:rich="http://richfaces.org/rich">

<ui:composition template="/WEB-INF/templates/desktop/main.xml">
	<ui:param name="pageTitle" value="#{msgKv['kv.titel.upload']}" />

	<ui:define name="article">
		<h1>#{msgKv['kv.heading.upload']}</h1>

		<h:form id="uploadForm">
			<rich:focus id="uploadFormFocus" />

			<h:panelGrid id="uploadFormGrid" columns="2">
				<h:outputLabel id="idLabel" value="#{msgKv['kv.label.kid']}"
					for="kundeId" />
				<h:panelGroup id="kundeIdGroup">
					<h:inputText id="kundeId" value="#{kc.kundeId}" />
					<rich:messages id="kundeIdMessages" for="kundeId" />
				</h:panelGroup>

				<h:outputLabel id="dateiLabel" value="#{msgKv['kv.label.pic']}"
					for="datei" />
				<rich:fileUpload id="datei"
					fileUploadListener="#{kc.uploadListener}" maxFilesQuantity="1"
					acceptedTypes="#{mm.extensionen}" listHeight="63px"
					immediateUpload="true"
					ontyperejected="return confirm('#{msgKv['kv.falscheExtension']}')"
					onsizerejected="return confirm('#{msgKv['kv.sizeError']}')"
					addLabel="#{msgKv['kv.send']}" doneLabel="#{msgKv['kv.done']}"
					sizeExceededLabel="#{msgKv['kv.sizeError']}"
					uploadLabel="#{msgKv['kv.heading.upload']}"
					clearLabel="#{msgKv['kv.button.reset']}"
					clearAllLabel="#{msgKv['kv.button.reset']}"
					cancelLabel="#{msgKv['kv.button.cancel']}">
					<f:facet name="progress">
						<rich:progressBar id="progressBarUpload" style="width: 100%;" />
					</f:facet>
					<f:facet name="label">
							#{msgKv['kv.load']}
						</f:facet>
				</rich:fileUpload>

				<rich:messages id="dateiMessages" for="datei" />
				<f:verbatim />
			</h:panelGrid>

			<p id="buttons">
				<h:commandButton id="uploadSubmit" action="#{kc.upload}"
					value="#{msgKv['kv.button.submit']}" />
				#{' '}
			</p>
		</h:form>
	</ui:define>
</ui:composition>
</html>
